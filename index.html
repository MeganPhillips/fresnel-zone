<!DOCTYPE html>
<html>
    <head>
        <title>Visual Line of Distance Estimator 2</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>
        <style>
            h1 {text-align: center;padding-bottom: 50px;}
            h2 {text-align: center;padding-bottom: 20px;}
            .container-fluid{width: 600px;}
        </style>
        
        
    </head>
    <body>
        <div class="container-fluid">
            <canvas id="myChart"></canvas>
        </div>
    </body>
    <script>
   var step = (2 * Math.PI) / 30;
      console.log("step", step);
      f = 217.25; // frequency
      x1 = 0;
      x2 = 15;
      y2 = 250;
      y1 = 130;
      fr = f * Math.pow(10, 6); // frequency in Hz
      c = 2.997925 * Math.pow(10, 8); // speed of light
      lambda = c / fr;
      xarr = [];
      yarr = [];
      a = (1 / 2) * Math.sqrt(Math.pow(x2 - x1, 2) + Math.pow(y2 - y1, 2)); // radius of major axis
      r = Math.sqrt((lambda * a) / 2); // radius of the minor axis
      w = Math.atan2(y2 - y1, x2 - x1);
      console.log(w);
      for (i = 0; i <= 2 * Math.PI; i += step) {
        xval = a * Math.cos(i);
        yval = r * Math.sin(i);
        xnew = (x1 + x2) / 2 + xval * Math.cos(w) - yval * Math.sin(w);
        ynew = (y1 + y2) / 2 + xval * Math.sin(w) + yval * Math.cos(w);
        xarr.push(xnew);
        yarr.push(ynew);
      }
      console.log(xarr);
      const data = {
        labels: xarr,
        datasets: [
          {
            data: yarr,
            borderColor: "rgba(0,0,0,1)",
          },
        ],
      };
      const config = {
        type: "line",
        data: data,
        options: {
          scales: {
            x: {
                type: 'linear'
            }
          },
        },   
     };
          const mychart = new Chart(document.getElementById("myChart"), config);
    </script> 
</html>
